<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin</title>
<style>
body {
  font-family: Arial;
  background: linear-gradient(to bottom, #fff0f5, #ffffff);
  text-align: center;
  padding-top: 50px;
}
h2 { color: #d63384; }

.card {
  background: white;
  padding: 15px;
  margin: 15px auto;
  width: 300px;
  border-radius: 12px;
}
button {
  padding: 8px 15px;
  border-radius: 20px;
  border: none;
  background: linear-gradient(to right, #ff69b4, #ffc107);
  color: white;
  cursor: pointer;
}
</style>
</head>
<body>

<h2>Trang Quản Lý Admin</h2>
<div id="orders"></div>

<script>

const BACKEND = "https://chumchum-frontend-1.onrender.com";

function loadOrders() {
  fetch(BACKEND + "/orders")
    .then(res => res.json())
    .then(data => {
      const container = document.getElementById("orders");
      container.innerHTML = "";

      data.forEach(order => {
        container.innerHTML += `
          <div class="card">
            <p><b>Tên:</b> ${order.name}</p>
            <p><b>Trạng thái:</b> ${order.status}</p>
            ${order.status === "pending" ? 
              `<button onclick="approve(${order.id})">Duyệt</button>` 
              : ""}
          </div>
        `;
      });
    });
}

function approve(id) {
  fetch(BACKEND + "/approve-order", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ id })
  })
  .then(() => loadOrders());
}

loadOrders();

</script>
</body>
</html>
